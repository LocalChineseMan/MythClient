package notthatuwu.xyz.mythrecode.modules.exploit;

import notthatuwu.xyz.mythrecode.api.event.EventTarget;
import notthatuwu.xyz.mythrecode.api.module.Category;
import notthatuwu.xyz.mythrecode.api.module.Module;
import notthatuwu.xyz.mythrecode.api.module.Module.Info;
import notthatuwu.xyz.mythrecode.api.module.settings.impl.ModeSetting;
import notthatuwu.xyz.mythrecode.api.module.settings.impl.NumberSetting;
import notthatuwu.xyz.mythrecode.api.utils.MoveUtil;
import notthatuwu.xyz.mythrecode.events.EventMove;

@Info(name = "Phase", category = Category.EXPLOIT)
public class Phase extends Module {
  public ModeSetting mode = new ModeSetting("Mode", this, new String[] { "Clip", "Vanilla" }, "Clip");
  
  public ModeSetting clipMode = new ModeSetting("Clip", this, new String[] { "Up", "Down" }, "Down", () -> Boolean.valueOf(this.mode.is("Clip")));
  
  public NumberSetting clipAmount = new NumberSetting("Blocks", this, 1.0D, 1.0D, 4.0D, true, () -> Boolean.valueOf(this.mode.is("Clip")));
  
  @EventTarget
  public void onMotion(EventMove event) {
    switch (this.mode.getValue()) {
      case "Clip":
        switch (this.clipMode.getValue()) {
          case "Up":
            setPosition(0.0D, this.clipAmount.getValue().doubleValue(), 0.0D);
            toggle();
            break;
          case "Down":
            setPosition(0.0D, -this.clipAmount.getValue().doubleValue(), 0.0D);
            toggle();
            break;
        } 
        break;
      case "Vanilla":
        setPosition(0.0D, -3.0D, 0.0D);
        MC.gameSettings.keyBindForward.pressed = true;
        MoveUtil.strafe(0.10000000149011612D);
        MC.gameSettings.keyBindForward.pressed = false;
        break;
    } 
  }
}
